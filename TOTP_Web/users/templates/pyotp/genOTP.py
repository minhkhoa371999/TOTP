
import datetime
import time

hmacKey = [0x4d, 0x79, 0x4c, 0x65, 0x67, 0x6f, 0x44, 0x6f, 0x6f, 0x72]
otp = {"3799361303": ['040391', '844506', '153851', '393274', '907242', '329509', '345834', '297005', '834716', '908425', '342515', '165010', '462823', '495094', '344553', '426565', '700784', '463782', '794529','074903', '967379', '834048', '457087', '848832', '300650', '138392', '195092', '700198', '828118', '012899', '682662', '286264', '002593', '812308', '566140', '408793', '100380', '603320', '253707', '234827']}


def genOTP(start, serial):
    now = datetime.datetime.now().timestamp()
    tmp = int((now - start) // 30)
    return otp[serial][tmp]
